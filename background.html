<script>

// Creates options defaults in case user hasn't set them yet.
  if (!localStorage["scroll_speed"]) {
    localStorage["scroll_speed"] = 1000;
  }
  if (!localStorage["distance_length"]) {
    localStorage["distance_length"] = 400;
  }
  if (!localStorage["size"]) {
    localStorage["size"] = "50px";
  }
  if (!localStorage["arrow"]) {
    localStorage["arrow"] = "arrow_blue";
  }
  if (!localStorage["scroll"]) {
    localStorage["scroll"] = "jswing";
  }
  if (!localStorage["location"]) {
    localStorage["location"] = "TR";
  }

// Message passer to give [LocalStorage] settings to contentscript.js which is not allowed access to [LocalStorage].
chrome.extension.onRequest.addListener(
  function(request, sender, sendResponse) {
    if (request.greeting == "settings")
      sendResponse({speed: localStorage["scroll_speed"], distance: localStorage["distance_length"], size: localStorage["size"], arrow: localStorage["arrow"], scroll: localStorage["scroll"], location: localStorage["location"]});
    else
      sendResponse({}); // snub them.
  });

</script>